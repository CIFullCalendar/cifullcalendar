/*!
 * CIFullcalendar bootstrap-table plugin 
 * @author: Sir.Dre
 * Docs & License: http://www.cifullcalendar.com
 * (c) 2016 CIFullcalendar 
 */
function getIdSelections(){return $.map($table.bootstrapTable("getSelections"),function(t){return $params={category_id:t.category_id,hash:t.token?t.token:""},$.ajax({url:"./categories/del_selected/",type:"POST",data:$params,complete:function(e){console.log(t.category_id)}}),t.category_id})}function responseHandler(t){return $.each(t.rows,function(t,e){e.state=-1!==$.inArray(e.category_id,selections)}),t}function detailFormatter(t,e){var a=[];return $.each(e,function(t,e){a.push("<p><b>"+t+":</b> "+e+"</p>")}),a.join("")}function totalNameFormatter(t){return t.length}function totalFormatter(t){var e=0;return $.each(t,function(t,a){e+=+a.category_id}),e}function operateFormatter(t,e,a){return['<button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit_'+e.category_id+'" data-placement="top" ><i class="fa fa-pencil"></i></button>  ','<button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete_'+e.category_id+'" data-placement="top" ><i class="fa fa-trash"></i></button>'].join("")}var allcategory_url=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("/index.php","")+"/get_categories",$table=$("#categories_dataTable"),$remove=$("#remove-data"),selections=[];!function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)t(require("jquery"));else{if("undefined"==typeof jQuery)throw"bootstrap-table requires jQuery to be loaded first";t(jQuery)}}(function(t){$table.bootstrapTable({method:"get",url:allcategory_url,sidepagination:"server",pagination:!0,handler:"responseHandler",search:!0,showRefresh:!0,pagination:!0,showColumns:!0,pageSize:5,pageList:[5,10,25,50,100,200,300,500,800,900,1e3,1500,3e3,5e3,7e3,9e3,12e3,15e3,2e4,"ALL"]}),setTimeout(function(){$table.bootstrapTable("resetView")},200),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){$remove.prop("disabled",!$table.bootstrapTable("getSelections").length)}),$remove.click(function(){var t=getIdSelections();$table.bootstrapTable("remove",{field:"category_id",values:t}),$remove.prop("disabled",!0)}),t(".color_picker").each(function(){t(this).minicolors({control:t(this).attr("data-control")||"hue",defaultValue:t(this).attr("data-defaultValue")||"",inline:"true"===t(this).attr("data-inline"),letterCase:t(this).attr("data-letterCase")||"lowercase",opacity:t(this).attr("data-opacity"),position:t(this).attr("data-position")||"bottom left",change:function(t,e){t&&e&&(t+=", "+e)},theme:"bootstrap"})})});