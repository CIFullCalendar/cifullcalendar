/*!
 * CIFullcalendar bootstrap-table plugin 
 * @author: Sir.Dre
 * Docs & License: http://www.cifullcalendar.com
 * (c) 2016 CIFullcalendar 
 */
function getIdSelections(){return $.map($table.bootstrapTable("getSelections"),function(e){return $params={id:e.id,hash:e.token?e.token:""},$.ajax({url:"calendarlist/del_selected",cache:!0,type:"POST",data:$params,complete:function(t){console.log(e.id)}}),e.id})}function responseHandler(e){return $.each(e.rows,function(e,t){t.state=-1!==$.inArray(t.id,selections)}),e}function detailFormatter(e,t){var a=[];return $.each(t,function(e,t){a.push("<p><b>"+e+":</b> "+t+"</p>")}),a.join("")}function totalNameFormatter(e){return e.length}function totalFormatter(e){var t=0;return $.each(e,function(e,a){t+=+a.eid}),t}function alldayFormatter(e,t){var a="true"==t.allDay?"fa-sun-o":"fa-clock-o";return'<i class="fa '+a+'" ></i>'}function shareFormatter(e,t){var a=t.gid<0?"fa-toggle-off":0==t.gid?"fa-toggle-on":"fa-toggle-off",o=t.gid<0?"public":0==t.gid?"private":"public";return'<i class="fa '+a+'" ></i>'+o}function timestampFormatter(e,t){var a=moment(t.pubDate),o=a.format("MMM-DD-YYYY h:mm:ss a");return'<i class="fa fa-clock-o hidden-xs hidden-md"></i>&nbsp;'+o}function editFormatter(e,t,a){return['<a href="calendarlist/edit/'+t.eid+'" class="btn btn-primary btn-xs" role="button" ><i class="fa fa-pencil"></i></a>'].join("")}var allevents_url=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("/index.php","")+"/get_allevents",$table=$("#allevents_dataTable"),$remove=$("#remove-data"),selections=[];!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"bootstrap-table requires jQuery to be loaded first";e(jQuery)}}(function(e){$table.bootstrapTable({method:"get",url:allevents_url,sidepagination:"server",pagination:!0,handler:"responseHandler",search:!0,showRefresh:!0,showColumns:!0,pageSize:5,pageList:[5,10,25,50,100,200,300,500,800,900,1e3,1500,3e3,5e3,7e3,9e3,12e3,15e3,2e4,"ALL"]}),setTimeout(function(){$table.bootstrapTable("resetView")},200),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){$remove.prop("disabled",!$table.bootstrapTable("getSelections").length)}),$remove.click(function(){var e=getIdSelections();$table.bootstrapTable("remove",{field:"id",values:e}),$remove.prop("disabled",!0)}),e(".color_picker").each(function(){e(this).minicolors({control:e(this).attr("data-control")||"hue",defaultValue:e(this).attr("data-defaultValue")||"",inline:"true"===e(this).attr("data-inline"),letterCase:e(this).attr("data-letterCase")||"lowercase",opacity:e(this).attr("data-opacity"),position:e(this).attr("data-position")||"bottom left",change:function(e,t){e&&t&&(e+=", "+t)},theme:"bootstrap"})})});