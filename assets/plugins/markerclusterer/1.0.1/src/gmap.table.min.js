/*!
 * CIFullCalendar
 * Docs & License: http://wwww.cifullcalendar.com
 * (c) 2016 sirdre
 */
function geocodePosition2(e){geocoder.geocode({latLng:e},function(o){o&&o.length>0?updateMarkerAddress(o[0].formatted_address,e.lat(),e.lng()):updateMarkerAddress("location unknown.")})}function updateMarkerAddress(e,o,n){$("#markers_address").val(e),$("#markers_address").attr("class","form-control"),$("#show_lat").html(o),$("#show_lng").html(n),$("#markers_lat").val(o),$("#markers_lng").val(n)}function gmaps_update(e,o,n,t){$("#markers_address").attr("class","form-control");var s=new google.maps.LatLng(e,o),a={center:s,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(document.getElementById(n),a);$(t).keypress(function(e){5==e.which&&e.preventDefault()});var i=document.getElementById(t),d=new google.maps.places.Autocomplete(i);d.bindTo("bounds",r);var g=new google.maps.InfoWindow,l=new google.maps.Marker({position:s,map:r,draggable:!0});google.maps.event.addListener(r,"idle",function(){google.maps.event.trigger(r,"resize"),r.setZoom(r.getZoom()-1),r.setZoom(r.getZoom()+1)}),google.maps.event.addListenerOnce(r,"center_changed",function(){window.setTimeout(function(){r.panTo(l.getPosition())},500)}),google.maps.event.addListener(l,"dragend",function(){var e=l.getPosition();geocodePosition2(e)}),google.maps.event.addListener(d,"place_changed",function(){g.close(),l.setVisible(!1),i.className="";var e=d.getPlace();if(!e.geometry)return void(i.className="notfound");e.geometry.viewport?r.fitBounds(e.geometry.viewport):(r.setCenter(e.geometry.location),r.setZoom(13)),l.setIcon({url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)}),l.setPosition(e.geometry.location),l.setVisible(!0);var o="",n=l.getPosition();geocodePosition2(n),e.address_components&&(o=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" ")),g.setContent("<div><strong><u>"+e.name+"</u></strong><br>"+o),g.open(r,l)})}var geocoder=new google.maps.Geocoder,base_url=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname.replace("index.php/profile/gmaps","")+"assets/img/pin/",base_url2=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("profile/gmaps","")+"profile";