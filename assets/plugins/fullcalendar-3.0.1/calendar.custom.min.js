/*!
 * CIFullCalendar v3
 * Docs & License: http://www.cifullcalendar.com
 * (c) 2016 Sir.Dre
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"),require("google.maps.Geocoder"));else{if("undefined"==typeof google.maps.Geocoder)throw"CIFullCalendar requires Gmaps to be loaded first";if("undefined"==typeof jQuery)throw"CIFullCalendar requires jQuery to be loaded first";if("undefined"==typeof moment)throw"CIFullCalendar requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){function a(){return i(pe)||i(ge)||i(_e)?!1:{start:pe,end:ge,dow:[he,Ee,ye,Ce,Me,be,ke]}}function r(t){e("#alertShow").fadeIn(),e("#alertShow").html(t),window.setTimeout(function(){e("#alertShow").fadeOut(300)},4e3)}function n(t){t.lengthComputable&&e("progress").attr({value:t.loaded,max:t.total})}function o(){var e;for(t.defineLocale($,{parentLocale:$}),t.tz(G).format(T),e=0;e<M.length;e++)M[e].render()}function l(){var a=t.tz(G),r=6*a.format(I),n=6*a.format(z)+r/60,l=a.format(O)%12/12*360+90+n/12;o();var d=a.format(T),c=a.format(N),i=a.format(j);e("#hour").css("transform","rotate("+l+"deg)"),e("#minute").css("transform","rotate("+n+"deg)"),e("#second").css("transform","rotate("+r+"deg)"),e("#ampm").text(c),e("#date").text(d),e("#timezone").text(G),e("#digiclock").text(i)}function d(){l(),o(),setTimeout(d,1e3)}function c(){e(".color_picker").each(function(){e(this).minicolors({control:e(this).attr("data-control")||"hue",defaultValue:e(this).attr("data-defaultValue")||"",inline:"true"===e(this).attr("data-inline"),letterCase:e(this).attr("data-letterCase")||"lowercase",opacity:e(this).attr("data-opacity"),position:e(this).attr("data-position")||"bottom left",change:function(e,t){e&&t&&(e+=", "+t)},theme:"bootstrap"})})}function i(e){var t=typeof e;return"undefined"===t||("object"===t?null===e||0===Object.keys(e).length:[!1,0,"","0"].indexOf(e)>=0)}function u(e){return"string"==typeof e}function s(e){y.geocode({latLng:e},function(t){t&&t.length>0?v(t[0].formatted_address,e.lat(),e.lng()):v("location unknown.")})}function v(t,a,r){e("#ic_event_clocation").val(t),e("#ic_event_clocation").attr("class","form-control"),e("#markers_clat").val(a),e("#show_clat").html(a),e("#markers_clng").val(r),e("#show_clng").html(r)}function m(e){y.geocode({latLng:e},function(t){t&&t.length>0?f(t[0].formatted_address,e.lat(),e.lng()):f("location unknown.")})}function f(t,a,r){e("#ic_event_ulocation").val(t),e("#ic_event_ulocation").attr("class","form-control"),e("#markers_ulat").val(a),e("#show-lat").html(a),e("#markers_ulng").val(r),e("#show-lng").html(r)}function p(t,a){function r(e,t){var a=document.getElementById(e);google.maps.event.addDomListener(a,"click",function(){c.setTypes(t)})}e("#ic_event_ulocation").attr("class","form-control");var n=new google.maps.LatLng(t,a),o={center:n,zoomControl:!0,zoom:19,mapTypeId:google.maps.MapTypeId.ROADMAP},l=new google.maps.Map(document.getElementById("gmapsCanvas2"),o);e("#ic_event_ulocation").keypress(function(e){13==e.which&&e.preventDefault()});var d=document.getElementById("ic_event_ulocation"),c=new google.maps.places.Autocomplete(d);c.bindTo("bounds",l);var i=new google.maps.InfoWindow,u=new google.maps.Marker({position:n,map:l,draggable:!0});google.maps.event.addListener(l,"idle",function(){google.maps.event.trigger(l,"resize"),l.setZoom(l.getZoom()-1),l.setZoom(l.getZoom()+1)}),google.maps.event.addListenerOnce(l,"center_changed",function(){window.setTimeout(function(){l.panTo(u.getPosition())},500)}),google.maps.event.addListener(u,"dragend",function(){m(u.getPosition())}),google.maps.event.addListener(c,"place_changed",function(){i.close(),u.setVisible(!1),d.className="";var e=c.getPlace();if(!e.geometry)return void(d.className="notfound");e.geometry.viewport?l.fitBounds(e.geometry.viewport):(l.setCenter(e.geometry.location),l.setZoom(13)),u.setIcon({url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)}),u.setPosition(e.geometry.location),u.setVisible(!0),m(u.getPosition());var t="";e.address_components&&(t=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" ")),i.setContent("<strong><u>"+e.name+"</u></strong><br>"+t),i.open(l,u)}),r("changetype-all",[]),r("changetype-establishment",["establishment"]),r("changetype-geocode",["geocode"])}function g(t,a){function r(e,t){var a=document.getElementById(e);google.maps.event.addDomListener(a,"click",function(){c.setTypes(t)})}e("#ic_event_clocation").attr("class","form-control");var n=new google.maps.LatLng(t,a),o={center:n,zoomControl:!0,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP},l=new google.maps.Map(document.getElementById("gmapsCanvas"),o);e("#ic_event_clocation").keypress(function(e){13==e.which&&e.preventDefault()});var d=document.getElementById("ic_event_clocation"),c=new google.maps.places.Autocomplete(d);c.bindTo("bounds",l);var i=new google.maps.InfoWindow,u=new google.maps.Marker({position:n,map:l,draggable:!0});google.maps.event.addListener(l,"idle",function(){google.maps.event.trigger(l,"resize"),l.setZoom(l.getZoom()-1),l.setZoom(l.getZoom()+1)}),google.maps.event.addListener(u,"dragend",function(){s(u.getPosition())}),google.maps.event.addListener(c,"place_changed",function(){i.close(),u.setVisible(!1),d.className="";var e=c.getPlace();if(!e.geometry)return void(d.className="notfound");e.geometry.viewport?l.fitBounds(e.geometry.viewport):(l.setCenter(e.geometry.location),l.setZoom(13)),u.setIcon({url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)}),u.setPosition(e.geometry.location),u.setVisible(!0),s(u.getPosition());var t="";e.address_components&&(t=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" ")),i.setContent("<b><u>"+e.name+"</u></b><br>"+t),i.open(l,u)}),r("changetype-all",[]),r("changetype-establishment",["establishment"]),r("changetype-geocode",["geocode"])}function _(t,a){function r(){o()}function o(){4===u.readyState?(e("#loading").show(),n(4===u.readyState),(200===u.status||304===u.status||1223===u.status)&&e("#calendar").fullCalendar("refetchEvents")):e("#loading").hide()}function l(){var e=void 0;if(u.response?e=u.response:"text"!==u.responseType&&u.responseType||(e=u.responseText||u.responseJSON),h)try{e=JSON.parse(e)}catch(t){}return e}function d(e){clearTimeout(s),e instanceof Error||(e=new Error(""+(e||"Unknown Error"))),e.statusCode=0,a(e,f)}function c(e){var t=u.headers;if(!e)return t;for(var a=e.split("\r\n"),r=0;r<a.length;r++){var n=a[r],o=n.indexOf(": ");if(o>0){var l=n.substring(0,o);n.substring(o,2);if(!u.setRequestHeader)throw new Error("Headers cannot be set on object");for(l in t)t.hasOwnProperty(l)&&u.setRequestHeader(l,t[l])}}return t}function i(){if(!m){var e;clearTimeout(s),e=void 0===u.status?200:1223===u.status?204:u.status;var r=f,n=null;0!==e?(r={body:l(),statusCode:e,method:p,headers:{},url:t,rawRequest:u},u.getAllResponseHeaders&&(r.headers=c(u.getAllResponseHeaders()))):n=new Error("Internal Error"),a(n,r.body)}}var u,s;if("undefined"==typeof a)try{u=new XMLHttpRequest}catch(v){throw new Error("argument missing")}(window.XMLHttpRequest||window.document||window.ActiveXObject)&&(u=new XMLHttpRequest);var m,f={body:l(),statusCode:0,method:p,headers:{},url:t,rawRequest:u},p=u.method="GET",g=l(),_=u.headers,h=!0,E=0;return h&&"GET"!==p&&"HEAD"!==p&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json")||(_["Access-Control-Allow-Methods"]="GET")||(_["Access-Control-Allow-Origin"]="*"),g=JSON.stringify()),u.onreadystatechange=r,u.onload=i,u.onerror=d,u.onprogress=o,u.ontimeout=d,u.open(p,t,!0),E>0&&(s=setTimeout(function(){m=!0,u.abort("timeout");var e=new Error("timeout");e.code="ETIMEDOUT",d(e)},E)),u.send(g),u}e.cifullCalendar={version:"3.3.9.9",internalApiVersion:6};var h=e.fullCalendar;if(6!==h.internalApiVersion)return void h.warn("Incompatible with v"+h.version+" of the core.\nPlease see http://sirdre.com for more information.");var E=e.cifullCalendar=function(t){e.options=t,e.getRequest(),e.init()};E.DEFAULTS={locale:void 0},E.LOCALES=[],E.prototype.init=function(){e.businessDOW(),e.timedUpdate()},e.fn.cifullCalendar=function(t){var a,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),o=n.data("calendar");e.extend({},E.DEFAULTS,n.data(),"object"==typeof t&&t);if("string"==typeof t){if(e.inArray(t)<0)throw new Error("Unknown method: "+t);if(!o)return;a=o[t].apply(o,r),"destroy"===t&&n.removeData("calendar")}}),"undefined"==typeof a?this:a},e.fn.cifullCalendar.defaults=E.DEFAULTS,e.fn.cifullCalendar.locales=E.LOCALES;var y=new google.maps.Geocoder,C=(new google.maps.InfoWindow,new google.maps.LatLngBounds,e.extend(E.DEFAULTS,E.LOCALES.en)),M=[],b="YYYY-MM-DD HH:mm:ss",k="YYYYMMDD[T]HHmmss",w="dddd, MMMM Do, h:mm:ss a",D="MMMM DD YYYY, h:mm:ss a",x="YYYY-MM-DD",T="MMM DD",A="HH:mm:ss",S="hh:mm:ss",L="h:mm:ss a",P="hh:mm a",j="h:mm:ss",O="h",z="mm",I="ss",N="a",F="months",Y=new Array,R=new Array,H=new RegExp("(.+)"),Z=window.location.pathname.replace(H,"./profile/home/"),q=window.location.pathname.replace("index.php/profile",""),B=window.location.pathname.replace("index.php/profile","")+"assets/attachments/",U="",$="en",V="",G="",J="",W="start",X="end",Q="title",K="",ee="",te="",ae="",re=1.45,ne="",oe="",le="",de="",ce="",ie="",ue="",se="",ve="00:30:00",me=!1,fe=0,pe="",ge="",_e="",he="",Ee="",ye="",Ce="",Me="",be="",ke="",we="00:00:00",De="24:00:00",xe=300,Te=!0,Ae=!1,Se=!0,Le=!0,Pe=!0,je=!1,Oe=!0,ze="";return c(),_(Z+"get_timezone",function(t,a){i(a)||(V=e.trim(a))}),_(Z+"get_timezone2",function(e,a){i(a)||(G=a,K=t.tz(G).format(A))}),_(Z+"get_defaultview",function(t,a){!i(a)&&u(a)&&(U=e.trim(a))}),_(Z+"get_header_left",function(t,a){i(a)||(ee=e.trim(a))}),_(Z+"get_header_center",function(t,a){i(a)||(te=e.trim(a))}),_(Z+"get_header_right",function(t,a){i(a)||(ae=e.trim(a))}),_(Z+"get_apikey",function(t,a){i(a)||(ze=e.trim(a))}),_(Z+"get_editable",function(e,t){i(t)||(Te="true"==t?!0:!1)}),_(Z+"get_firstday",function(t,a){i(a)||(fe=e.trim(a))}),_(Z+"get_mintime",function(t,a){i(a)||(we=e.trim(a))}),_(Z+"get_maxtime",function(t,a){i(a)||(De=e.trim(a))}),_(Z+"get_businessstart",function(t,a){i(a)||(pe=e.trim(a))}),_(Z+"get_businessend",function(t,a){i(a)||(ge=e.trim(a))}),_(Z+"get_businessdays",function(e,t){i(t)||(_e=t.split(","),he=Number(_e[0]),Ee=Number(_e[1]),ye=Number(_e[2]),Ce=Number(_e[3]),Me=Number(_e[4]),be=Number(_e[5]),ke=Number(_e[6]))}),_(Z+"get_aspectratio",function(t,a){i(a)||(re=a!=re?e.trim(a):re)}),_(Z+"get_hiddendays",function(e,t){i(t)||(ne=t.split(","),oe=Number(ne[0]),le=Number(ne[1]),de=Number(ne[2]),ce=Number(ne[3]),ie=Number(ne[4]),ue=Number(ne[5]),se=Number(ne[6]))}),_(Z+"get_weeknumbers",function(e,t){i(t)||(Ae="true"==t?!0:!1)}),_(Z+"get_eventlimit",function(e,t){i(t)||(Se="true"==t?!0:!1)}),_(Z+"get_alldayslot",function(e,t){i(t)||(Le="true"==t?!0:!1)}),_(Z+"get_slotduration",function(t,a){i(a)||(ve=e.trim(a))}),_(Z+"get_slotlabeling",function(e,t){i(t)||(me="true"==t?!0:!1)}),_(Z+"get_slotlabelformat",function(t,a){i(a)||(P=e.trim(a),D="MMMM DD YYYY, "+e.trim(a))}),_(Z+"get_isrtl",function(e,t){i(t)||(je="true"==t?!0:!1)}),_(Z+"get_eventsource",function(t,a){if(!i(a))for(var r=0;r<a.length;r++)e("#cal_eventsources").append("<option value="+a[r].source_url+" >"+a[r].source_name+" </option>")}),_(Z+"get_category",function(t,a){if(!i(a)){for(var r=0;r<a.length;r++)e("#cal_category").append("<option id='events_"+a[r].category_id+"' value="+a[r].category_id+">"+a[r].category_name+" ("+a[r].count+")</option>");for(var n=0;n<a.length;n++)e("#external-events").append("<div class='fc-event' id='"+a[n].category_id+"' style='background-color:"+a[n].backgroundColor+";border-color:"+a[n].borderColor+";color:"+a[n].textColor+"' bgcolor='"+a[n].backgroundColor+"' bcolor='"+a[n].borderColor+"' color='"+a[n].textColor+"' desc='"+a[n].category_desc+"' hash='"+a[n].token+"' >"+a[n].category_name+"</div>"),e("#external-events .fc-event").each(function(){var t={id:e.trim(Math.floor(999*Math.random()+10)),title:e.trim(e(this).text()),description:e.trim(e(this).attr("desc")),category:e.trim(e(this).attr("id")),rendering:e.trim(),backgroundColor:e.trim(e(this).attr("bgcolor")),borderColor:e.trim(e(this).attr("bcolor")),textColor:e.trim(e(this).attr("color")),hash:e.trim(e(this).attr("hash")),stick:!0};e(this).data("events",t),e(this).draggable({revert:"invalid",helper:function(){return $copy=e(this).clone(),$copy.css({"list-style":"none",width:e(this).outerWidth()}),$copy},appendTo:"body",scroll:!1,zIndex:999,revertDuration:0})});for(var o=0;o<a.length;o++)e("#marker_category").append("<option id='marker_"+a[o].category_id+"' value="+a[o].category_id+" bgcolor='"+a[o].backgroundColor+"' bcolor='"+a[o].borderColor+"' color='"+a[o].textColor+"' >"+a[o].category_name+" ("+a[o].count+")</option>");for(var l=0;l<a.length;l++)e("#marker_category2").append("<option id='marker_"+a[l].category_id+"' value="+a[l].category_id+" bgcolor='"+a[l].backgroundColor+"' bcolor='"+a[l].borderColor+"' color='"+a[l].textColor+"'>"+a[l].category_name+" ("+a[l].count+")</option>")}}),_(Z+"get_groups",function(t,a){if(!i(a)){for(var r=0;r<a.length;r++)e("#ic_event_shareit").append("<option id='shareit_"+a[r].id+"' value="+a[r].id+">"+a[r].name+"</option>");for(var r=0;r<a.length;r++)e("#ic_event_shareit2").append("<option id='shareit2_"+a[r].id+"' value="+a[r].id+">"+a[r].name+"</option>")}}),_(Z+"get_usergroups",function(t,a){if(!i(a))for(var r=0;r<a.length;r++)e("#cal_groups").append("<option id='events_"+a[r].id+"' value="+a[r].id+">"+a[r].name+"</option>")}),_(Z+"get_coordinate",function(t,a){i(a)||(J=e.trim(a),g(J))}),e("#title").off("keyup drop").on("keyup drop",function(t){var a=0;clearTimeout(a),a=setTimeout(function(){t.preventDefault();var a=e("#title").val();i(a)?(R[0]=Z+"json",e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]):(R[0]=Z+"search?title="+a,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0])},!0)}),e("#submitsearch").on("click",function(t){t.preventDefault();var a=e("#title").val();i(a)?(R[0]=Z+"json",e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]):(R[0]=Z+"search?title="+a,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0])}),e("#cal_groups").change(function(){var t=e("#cal_groups option:selected").val();i(t)?(R[0]=Z+"json",e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]):(R[0]=Z+"jsongroups?group="+t,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0])}),e("#cal_category").change(function(){var t=e("#cal_category option:selected").val();i(t)?(R[0]=Z+"json",e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]):(R[0]=Z+"jsoncat?category="+t,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0])}),e("#cal_eventsources").change(function(){var t=e("#cal_eventsources option:selected").val();R[1]={url:t,color:"#fdd017",textColor:"#000",backgroundColor:"#fadf06"},e("#calendar").fullCalendar("removeEventSource",Y[1]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[1]),e("#calendar").fullCalendar("refetchEvents"),Y[1]=R[1]}),e(".popover-markup>.trigger").popover({html:!0,title:function(){return e(this).parent().find(".head").html()},content:function(){return e(this).parent().find(".content").html()},placement:function(t,a){var r,n,o,l,d,c,i,u,s,v,m,f,p,g,_,h,E;return g=function(e){return s<e.top&&i<e.left&&u>e.left+l&&c>e.top+o},r=e(a),h=e.extend({},r.offset(),{width:a.offsetWidth,height:a.offsetHeight}),l=283,o=117,s=e(document).scrollTop(),i=e(document).scrollLeft(),u=i+e(window).width(),c=s+e(window).height(),v={top:h.top-o,left:h.left+h.width/2-l/2},m={top:h.top+h.height,left:h.left+h.width/2-l/2},f={top:h.top+h.height/2-o/2,left:h.left-l},p={top:h.top+h.height/2-o/2,left:h.left+h.width},n=g(v),d=g(m),_=g(f),E=g(p),n?"top":d?"bottom":_?"left":"right"}}),e(".popover-markup").on("shown.bs.popover",function(){e("input[class=filter_groups]").change(function(){var t=new Array;e("input[id='filter_groups']:checked").each(function(a){var r=this.checked?e(this).val():"0";t+=i(t)?r:","+r}),R[0]=Z+"jsongroups?group="+t,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]}),e("input[class=filter_category]").change(function(){var t=new Array;e("input[id='filter_category']:checked").each(function(a){var r=this.checked?e(this).val():"0";t+=i(t)?r:","+r}),R[0]=Z+"jsoncat?category="+t,e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]}),e("input[class=filter_sources]").change(function(){var t=new Array;e("input[id='filter_sources']:checked").each(function(a){var r=this.checked?e(this).val():"0";t+=i(t)?r:","+r}),R[1]={url:t,color:"#fdd017",textColor:"#000",backgroundColor:"#fadf06"},e("#calendar").fullCalendar("removeEventSource",Y[1]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[1]),e("#calendar").fullCalendar("refetchEvents"),Y[1]=R[1]}),e("#filter_refresh").on("click",function(t){t.preventDefault(),R[0]=Z+"json",e("#calendar").fullCalendar("removeEventSource",Y[0]),e("#calendar").fullCalendar("refetchEvents"),e("#calendar").fullCalendar("addEventSource",R[0]),e("#calendar").fullCalendar("refetchEvents"),Y[0]=R[0]})}),Y[0]=Z+"json",Y[1]="",_(Z+"get_lang",function(n,o){$=i(o)?$:o,t.defineLocale($,{parentLocale:$}),C=e.extend(E.DEFAULTS,E.LOCALES[$]),d(),e("#calendar").fullCalendar({defaultDate:e.fullCalendar.moment(),defaultView:U,locale:$,minTime:""+we,maxTime:""+De,aspectRatio:re,timezone:V,now:V,weekNumberCalculation:V,scrollTime:K,nowIndicator:Pe,header:{left:ee,center:te,right:ae},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},smallTimeFormat:P,slotLabel:me,isRTL:je,theme:!1,navLinks:Oe,allDaySlot:Le,firstDay:fe,fixedWeekCount:!1,weekends:!0,weekNumbers:Ae,hiddenDays:[oe,le,de,ce,ie,ue,se],businessHours:a(),googleCalendarApiKey:ze,editable:Te,eventStartEditable:Te,eventDurationEditable:Te,longPressDelay:xe,selectable:Te,selectHelper:!0,defaultTimedEventDuration:ve,snapDuration:ve,eventLimit:Se,startParam:W,endParam:X,eventOrder:Q,dropAccept:"*",droppable:Te,eventSources:[Y[0],Y[1]],eventRender:function(t,a,r){a.attr("href","javascript:void(0);"),t.start.hasZone()&&a.find(".fc-title").after(e('<div class="tzo"/>').text(t.start.format("Z"))),a.eq({event:t.id,title:t.title,daystart:e.fullCalendar.moment(t.start).format(b),dayend:e.fullCalendar.moment(t.end).format(b),backgroundColor:t.backgroundColor,borderColor:t.borderColor,textColor:t.textColor,description:t.description,url:t.url,allDay:t.allDay,auth:t.auth,rendering:t.rendering,overlap:t.overlap,recurdays:t.recurdays,recurend:t.recurend,location:t.location,latitude:t.longitude,longitude:t.longitude,category:t.category,filename:t.filename})},views:{basic:{slotDuration:ve},agenda:{slotDuration:ve},week:{slotDuration:ve},day:{slotDuration:ve}},eventResize:function(t,a,r,n,o,l){$params={event:t.id,daystart:e.fullCalendar.moment(t.start).format(b),dayend:t.end?e.fullCalendar.moment(t.end).format(b):e.fullCalendar.moment(t.start).format(b),allDay:t.allDay,hash:t.token?t.token:""},e.ajax({url:Z+"resize",cache:!0,type:"POST",data:$params,complete:function(e){}})},dragOpacity:function(t,a,r,n,o,l){$params={event:t.id,daystart:e.fullCalendar.moment(t.start).format(b),dayend:t.end?e.fullCalendar.moment(t.end).format(b):e.fullCalendar.moment(t.start).format(b),allDay:t.allDay,hash:t.token?t.token:""},e.ajax({url:Z+"resize",cache:!0,type:"POST",data:$params,complete:function(e){}})},eventDrop:function(t,a,r,n,o,l){$params={event:t.id,daystart:t.start?e.fullCalendar.moment(t.start).format(b):e.fullCalendar.moment(a).format(b),dayend:t.end?e.fullCalendar.moment(t.end).format(b):e.fullCalendar.moment(t.start).format(b),allDay:t.allDay,hash:t.token?t.token:""},e.ajax({url:Z+"drop_event/",type:"POST",data:$params,complete:function(e){}})},drop:function(t,a,n,o){var l=e(this).data("events");e("#drop-remove").is(":checked")&&e(this).remove(),$params={id:l.id,category:l.category,title:l.title,description:l.description,rendering:l.rendering,backgroundColor:l.backgroundColor,borderColor:l.borderColor,textColor:l.textColor,start:e.fullCalendar.moment(t).format(b),end:e.fullCalendar.moment(t).format(b),allDay:t.hasTime()?!1:!0,hash:l.hash},e.ajax({url:Z+"drag_event",type:"POST",data:$params,complete:function(t){e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents"),r(C.dragMsg)}}),e("#calendar").fullCalendar("renderEvent",{category:l.category,title:l.title,description:l.description,rendering:l.rendering,backgroundColor:l.backgroundColor,borderColor:l.borderColor,textColor:l.textColor,start:e.fullCalendar.moment(t).format(b),end:e.fullCalendar.moment(t).format(b),allDay:l.allDay,hash:l.hash},!0)},select:function(t,a,r,n){var o=t?e.fullCalendar.moment(t).format(b):e.fullCalendar.moment().format(b),l=a?e.fullCalendar.moment(a).format(b):e.fullCalendar.moment(t).format(b),d=e.fullCalendar.moment(o).format(x),c=e.fullCalendar.moment(l).format(x),i=e.fullCalendar.moment(o).format(S),u=e.fullCalendar.moment(l).format(S),s=c>d?e.fullCalendar.moment(l).format(w):e.fullCalendar.moment(l).format(L),v=e.fullCalendar.moment(o).format(w)+" - "+s,m=$;e.getJSON(Z+"get_category",function(t){for(var a=t,r=1;r<a.length;r++)e("#createEventModal #marker_"+a[r].category).attr("selected","true");e("#createEventModal #marker_category").change(function(){var t="",a="",r="";e("#createEventModal #marker_category option:selected").each(function(){t+=e.trim(e(this).attr("bgcolor")),a+=e.trim(e(this).attr("bcolor")),r+=e.trim(e(this).attr("color"))}),e("#createEventModal #ic_event_bgcolor").minicolors("value",t),e("#createEventModal #ic_event_bordercolor").minicolors("value",a),e("#createEventModal #ic_event_textcolor").minicolors("value",r)}).change()}),e.getJSON(Z+"get_category",function(t){for(var t=t,a=1;a<t.length;a++)e("#createEventModal #marker_"+t[a].category).attr("selected","true")}),e.getJSON(Z+"get_coordinate",function(t){var a=t;J=a;var r=J.split(","),n=r[0],o=r[1];e("#createEventModal #markers_clat").val(n),e("#createEventModal #markers_clng").val(o),g(J)}),e("#createdtp1").datetimepicker({timeZone:G,locale:m,defaultDate:o,format:D,toolbarPlacement:"top",widgetPositioning:{horizontal:"auto",vertical:"top"}}),e("#createdtp2").datetimepicker({timeZone:G,locale:m,defaultDate:l,useCurrent:!1,format:D,toolbarPlacement:"top",widgetPositioning:{horizontal:"auto",vertical:"top"}}),e("#createdtp3").datetimepicker({timeZone:G,locale:m,defaultDate:o,viewMode:F,format:x}),e("#createdtp1").on("dp.change",function(t){e("#createdtp2").data("DateTimePicker").minDate(t.date),i==e.fullCalendar.moment(t.date).format(S)?e('input:radio[name="ic_event_allday"][value="true"]').prop("checked",!0):e('input:radio[name="ic_event_allday"][value="false"]').prop("checked",!0)}),e("#createdtp2").on("dp.change",function(t){e("#createdtp1").data("DateTimePicker").maxDate(t.date),u==e.fullCalendar.moment(t.date).format(S)?e('input:radio[name="ic_event_allday"][value="true"]').prop("checked",!0):e('input:radio[name="ic_event_allday"][value="false"]').prop("checked",!0)}),e("#createEventModal #ic_event_title").val(""),e("#createEventModal #ic_event_desc").val(""),e("#createEventModal #ic_event_starttime").val(e.fullCalendar.moment(o).format(D)),e("#createEventModal #ic_event_endtime").val(e.fullCalendar.moment(l).format(D)),e('input:radio[id="ic_event_alldayF"][value="true"]').prop("checked",!0),e("#createEventModal #ic_event_urllink").val(""),e("#createEventModal #ic_event_endrecurring").val(""),e("#createEventModal #ic_event_eventoverlap").val("true"),e("#createEventModal #ic_event_clocation").val(""),e("#createEventModal #when").text(v),e("#createEventModal #userfile1").val(""),e("#createEventModal #userfile2").val(""),e("#createEventModal").modal("show")},eventClick:function(t,a,r){if(!Te)return!1;var n=t.start?e.fullCalendar.moment(t.start).format(b):e.fullCalendar.moment().format(b),o=t.end?e.fullCalendar.moment(t.end).format(b):e.fullCalendar.moment(t.start).format(b),l=e.fullCalendar.moment(n).format(x),d=e.fullCalendar.moment(o).format(x),c=e.fullCalendar.moment(n).format(S),u=e.fullCalendar.moment(o).format(S),s=d>l?e.fullCalendar.moment(o).format(w):e.fullCalendar.moment(o).format(L),v=e.fullCalendar.moment(n).format(w)+" - "+s,m=t.filename?'<a href="'+B+t.filename+'" title="'+t.filename+'" target="_blank"><b>'+t.filename+"</b></a>":"",f=i(t.username)?"":'<a href="'+q+t.username+'" title="'+t.username+'" target="_blank"><b>'+t.username+"</b></a>",g=parseFloat(t.latitude).toFixed(15),_=parseFloat(t.longitude).toFixed(15),h=$;p(g,_);var E=(o-n)/60/1e3,y=(E/60+E%60).toString();e.getJSON(Z+"get_category",function(a){for(var r=0;r<a.length;r++)a[r].category==t.category?(e("#updateEventModal #marker_"+a[r].category).removeAttr("selected"),e("#updateEventModal #marker_"+a[r].category).attr("selected","true")):e("#updateEventModal #marker_"+a[r].category).removeAttr("selected")}),e("#updateEventModal #marker_category2").change(function(){var t="",a="",r="";e("#updateEventModal #marker_category2 option:selected").each(function(){t+=e.trim(e(this).attr("bgcolor")),a+=e.trim(e(this).attr("bcolor")),r+=e.trim(e(this).attr("color"))}),e("#updateEventModal #ic_event_bgcolor").minicolors("value",t),e("#updateEventModal #ic_event_bordercolor").minicolors("value",a),e("#updateEventModal #ic_event_textcolor").minicolors("value",r)}).change(),e("#updatedtp1").datetimepicker({timeZone:G,locale:h,defaultDate:n,format:D,toolbarPlacement:"top",widgetPositioning:{horizontal:"auto",vertical:"top"}}),e("#updatedtp2").datetimepicker({timeZone:G,locale:h,defaultDate:o,format:D,useCurrent:!1,toolbarPlacement:"top",widgetPositioning:{horizontal:"auto",vertical:"top"}}),e("#updatedtp3").datetimepicker({timeZone:G,locale:h,defaultDate:n,viewMode:F,format:x}),e("#ic_event_shareit2").on("changed.bs.select",function(t){var a="";e("#updateEventModal #ic_event_shareit2 option:selected").each(function(){a+=e.trim(e(this).attr("id"))}),e("#updateEventModal #ic_event_shareitg2").val(a)}),e("#updatedtp1").on("dp.change",function(t){e("#updatedtp2").data("DateTimePicker").minDate(t.date),c==e.fullCalendar.moment(t.date).format(S)?(e("#updateEventModal #ic_event_alldayF").removeAttr("checked"),e("#updateEventModal #ic_event_alldayT").attr("checked","true")):(e("#updateEventModal #ic_event_alldayT").removeAttr("checked"),e("#updateEventModal #ic_event_alldayF").attr("checked","true"))}),e("#updatedtp2").on("dp.change",function(t){e("#updatedtp1").data("DateTimePicker").maxDate(t.date),u==e.fullCalendar.moment(t.date).format(S)?(e("#updateEventModal #ic_event_alldayF").removeAttr("checked"),e("#updateEventModal #ic_event_alldayT").attr("checked","true")):(e("#updateEventModal #ic_event_alldayT").removeAttr("checked"),e("#updateEventModal #ic_event_alldayF").attr("checked","true"))}),e("#updateEventModal #gexport").html('<a href="//www.google.com/calendar/event?action=TEMPLATE&amp;text='+t.title+"&amp;dates="+e.fullCalendar.moment(n).format(k)+"/"+e.fullCalendar.moment(o).format(k)+"&amp;details="+t.description+"&amp;location="+t.location+"&amp;url="+t.url+'&amp;sprop=website:" title="'+C.linktog+'" target="_blank"> '+C.linktog+"</a>"),e("#updateEventModal #yexport").html("<a href='//calendar.yahoo.com/?v=60&DUR="+y.substr(0,2)+"&TITLE="+t.title+"&ST="+e.fullCalendar.moment(n).format(k)+"&in_loc="+t.location+"&DESC="+t.description+"&URL="+t.url+"' title='"+C.linktoy+"' target='_blank' > "+C.linktoy+"</a>"),e("#updateEventModal #lexport").html("<a href='//calendar.live.com/calendar/calendar.aspx?rru=addevent&dtstart="+n+"&dtend="+o+"&summary="+t.title+"&description="+t.description+"&url="+t.url+"&location="+t.location+"' title='"+C.linktol+"' target='_blank' > "+C.linktol+"</a>"),e("#updateEventModal #Iexport").html("<a href='"+Z+"export/"+t.id+"' title='"+C.linktoi+"' > "+C.linktoi+"</a>"),0==t.recurdays?(e("#updateEventModal #ic_event_recurringnone").attr("selected","true"),e("#updateEventModal #ic_event_recurringdaily").removeAttr("selected"),e("#updateEventModal #ic_event_recurring2weeks").removeAttr("selected"),e("#updateEventModal #ic_event_recurringweekly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringmonthly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringyearly").removeAttr("selected")):1==t.recurdays?(e("#updateEventModal #ic_event_recurringnone").removeAttr("selected"),e("#updateEventModal #ic_event_recurringdaily").attr("selected","true"),e("#updateEventModal #ic_event_recurring2weeks").removeAttr("selected"),e("#updateEventModal #ic_event_recurringweekly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringmonthly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringyearly").removeAttr("selected")):7==t.recurdays?(e("#updateEventModal #ic_event_recurringnone").removeAttr("selected"),e("#updateEventModal #ic_event_recurringdaily").removeAttr("selected"),e("#updateEventModal #ic_event_recurring2weeks").removeAttr("selected"),e("#updateEventModal #ic_event_recurringweekly").attr("selected","true"),e("#updateEventModal #ic_event_recurringmonthly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringyearly").removeAttr("selected")):14==t.recurdays?(e("#updateEventModal #ic_event_recurringnone").removeAttr("selected"),e("#updateEventModal #ic_event_recurringdaily").removeAttr("selected"),e("#updateEventModal #ic_event_recurring2weeks").attr("selected","true"),e("#updateEventModal #ic_event_recurringweekly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringmonthly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringyearly").removeAttr("selected")):30==t.recurdays?(e("#updateEventModal #ic_event_recurringnone").removeAttr("selected"),e("#updateEventModal #ic_event_recurringdaily").removeAttr("selected"),e("#updateEventModal #ic_event_recurring2weeks").removeAttr("selected"),e("#updateEventModal #ic_event_recurringweekly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringmonthly").attr("selected","true"),e("#updateEventModal #ic_event_recurringyearly").removeAttr("selected")):365==t.recurdays&&(e("#updateEventModal #ic_event_recurringnone").removeAttr("selected"),e("#updateEventModal #ic_event_recurringdaily").removeAttr("selected"),e("#updateEventModal #ic_event_recurring2weeks").removeAttr("selected"),e("#updateEventModal #ic_event_recurringweekly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringmonthly").removeAttr("selected"),e("#updateEventModal #ic_event_recurringyearly").attr("selected","true")),""==t.rendering?(e("#updateEventModal #ic_event_renderingB").removeAttr("selected"),e("#updateEventModal #ic_event_renderingF").attr("selected","true")):(e("#updateEventModal #ic_event_renderingF").removeAttr("selected"),e("#updateEventModal #ic_event_renderingB").attr("selected","true")),0==t.overlap?(e("#updateEventModal #ic_event_eventoverlapT").removeAttr("selected"),e("#updateEventModal #ic_event_eventoverlapF").attr("selected","true")):(e("#updateEventModal #ic_event_eventoverlapF").removeAttr("selected"),e("#updateEventModal #ic_event_eventoverlapT").attr("selected","true")),e("#updateEventModal #eid").val(t.eid),e("#updateEventModal #apptID").val(t.id),e("#updateEventModal #ic_event_bgcolor").minicolors("value",t.backgroundColor),e("#updateEventModal #ic_event_bordercolor").minicolors("value",t.textColor),e("#updateEventModal #ic_event_textcolor").minicolors("value",t.borderColor),e("#updateEventModal #ic_event_title").val(t.title),e("#updateEventModal #ic_event_desc").val(t.description),e("#updateEventModal #ic_event_starttime").val(e.fullCalendar.moment(n).format(D)),e("#updateEventModal #ic_event_endtime").val(e.fullCalendar.moment(o).format(D)),e('input:radio[name="ic_event_allday"][value="'+t.allDay+'"]').prop("checked",!0),e("#updateEventModal #ic_event_urllink").val(t.url),e("#updateEventModal #ic_event_shareit2").selectpicker("val",t.gid),e("#updateEventModal #ic_event_endrecurring").val(t.recurend),e("#updateEventModal #ic_event_ulocation").val(t.location),e("#updateEventModal #markers_ulng").val(t.longitude),e("#updateEventModal #markers_ulat").val(t.latitude),e("#updateEventModal #marker_category2").val(t.category),e("#updateEventModal #show_ulat").text(t.longitude),e("#updateEventModal #show_ulng").text(t.latitude),e("#updateEventModal #filename").html(m),e("#updateEventModal #who").html(f),e("#updateEventModal #when").text(v),e("#updateEventModal #event_title").text(t.title),e("#updateEventModal").modal("show")},loading:function(t){e("#loading").toggle(t)}})}),e("#cifcv").text(e.cifullCalendar.version),e("#fcv").text(e.fullCalendar.version),e("#loadEvents").on("click",function(t){t.preventDefault(),e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents")}),e("#printEvents").on("click",function(e){e.preventDefault(),window.print()}),e("#delButton").on("click",function(t){t.preventDefault(),e("#updateEventModal").modal("hide");var a=new FormData(e("form#form2")[0]);e.ajax({type:"POST",url:Z+"delete_event",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",n,!1),t},beforeSend:function(e){e&&e.overrideMimeType&&e.overrideMimeType("multipart/form-data")},mimeType:"multipart/form-data",data:a,cache:!1,contentType:!1,processData:!1,error:function(e,t,a){r(C.Err)},complete:function(t){e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents"),r(C.delMsg)}})}),e("#updateButton").on("click",function(t){var a=e("#updateEventModal #ic_event_title").val(),o=e("#updateEventModal #ic_event_bgcolor").val(),l=e("#updateEventModal #ic_event_textcolor").val(),d=e("#updateEventModal #ic_event_bordercolor").val(),c=e("#updateEventModal #ic_event_desc").val(),u=e("#updateEventModal #ic_event_shareit2").val(),s=e("#updateEventModal #ic_event_urllink").val(),v=e("input[name=ic_event_allday]:checked","#updateEventModal").val(),m=e("#updateEventModal #marker_category2").val(),f=e("#updateEventModal #ic_event_eventoverlap").val(),p=e("#updateEventModal #ic_event_recurring").val(),g=e("#updateEventModal #ic_event_endrecurring").val(),_=e("#updateEventModal #ic_event_ulocation").val(),h=e("#updateEventModal #markers_ulat").val(),E=e("#updateEventModal #markers_ulng").val(),y=e.fullCalendar.moment(e("#updateEventModal #ic_event_starttime").val()).format(b),M=e.fullCalendar.moment(e("#updateEventModal #ic_event_endtime").val()).format(b);if(i(a)||i(m))t.preventDefault(),r(C.Err);else if(p>0&&i(g))e1.preventDefault(),r(C.recurMsg);else{t.preventDefault(),e("#updateEventModal").modal("hide");var k=new FormData(e("form#form2")[0]);e.ajax({type:"POST",url:Z+"update_event",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",n,!1),t},beforeSend:function(e){e&&e.overrideMimeType&&e.overrideMimeType("multipart/form-data")},mimeType:"multipart/form-data",data:k,cache:!1,contentType:!1,processData:!1,error:function(e,t,a){r(C.Err)},complete:function(t){e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents"),r(0>u?C.publicMsg:C.updateMsg)}}),e("#calendar").fullCalendar("updateEvent",{title:a,backgroundColor:o,borderColor:l,textColor:d,description:c,url:s,allDay:v,auth:u,overlap:f,recurdays:p,recurend:g,location:_,latitude:h,longitude:E,category:m,start:y,end:M},!0)}}),e("#addButton").on("click",function(t){var a=e("#createEventModal #ic_event_title").val(),o=e("#createEventModal #ic_event_bgcolor").val(),l=e("#createEventModal #ic_event_textcolor").val(),d=e("#createEventModal #ic_event_bordercolor").val(),c=e("#createEventModal #ic_event_desc").val(),u=e("#createEventModal #ic_event_shareit").val(),s=e("#createEventModal #ic_event_urllink").val(),v=e("input[name=ic_event_allday]:checked","#createEventModal").val(),m=e("#createEventModal #marker_category").val(),f=e("#createEventModal #ic_event_eventoverlap").val(),p=e("#createEventModal #ic_event_recurring").val(),g=e("#createEventModal #ic_event_endrecurring").val(),_=e("#createEventModal #ic_event_ulocation").val(),h=e("#createEventModal #markers_ulat").val(),E=e("#createEventModal #markers_ulng").val(),y=e.fullCalendar.moment(e("#createEventModal #ic_event_starttime").val()).format(b),M=e.fullCalendar.moment(e("#createEventModal #ic_event_endtime").val()).format(b);if(i(a)||i(m))t.preventDefault(),r(C.Err);else if(p>0&&i(g))t.preventDefault(),r(C.recurMsg);else{t.preventDefault(),e("#createEventModal").modal("hide");var k=new FormData(e("form#form1")[0]);e.ajax({type:"POST",url:Z+"add_event",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",n,!1),t},beforeSend:function(e){e&&e.overrideMimeType&&e.overrideMimeType("multipart/form-data")},mimeType:"multipart/form-data",data:k,cache:!1,contentType:!1,processData:!1,error:function(e,t,a){r(C.Err)},complete:function(t){e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents"),r(0>u?C.publicMsg:C.addMsg)}}),e("#calendar").fullCalendar("renderEvent",{title:a,backgroundColor:o,borderColor:l,textColor:d,description:c,url:s,allDay:v,auth:u,overlap:f,recurdays:p,recurend:g,location:_,latitude:h,longitude:E,category:m,start:y,end:M},!0)}}),e("#uploadButton").on("click",function(t){t.preventDefault(),e("#upload").modal("hide");var a=new FormData(e("form#upload_file")[0]);e.ajax({type:"POST",url:Z+"upload_file",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",n,!1),t},beforeSend:function(e){e&&e.overrideMimeType&&e.overrideMimeType("multipart/form-data")},mimeType:"multipart/form-data",data:a,cache:!1,contentType:!1,processData:!1,error:function(e,t,a){r(C.Err)},complete:function(t,a,n){e("#calendar").fullCalendar("removeEvents"),e("#calendar").fullCalendar("refetchEvents"),r(C.uploadMsg)}})}),E});